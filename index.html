<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Random Color Generator</title>
    <link rel="icon" href="">
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="hint.css">
    <meta name="viewport" content="width=device-width, initial=1">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/9d65776017.js" crossorigin="anonymous"></script>
  </head>
  <body>
  <div class="slideback"></div>
  <div class="transfer-text btn">
    Transform Color
    <span class="ripple"></span>
  </div>
  <div class="menu-btn" onclick="colorPick()">
    <div style="position:absolute;left:0;top:0;width:100%;height:100%;background: transparent;z-index:10" class="hint--left" aria-label="Color Picker"></div>
    <div class="middle" style="position: absolute;">
      <div class="flex">
        <div class="point"></div>
        <div class="point"></div>
        <div class="point"></div>
      </div>
      <div class="flex">
        <div class="point"></div>
        <div class="point"></div>
        <div class="point"></div>
      </div>
      <div class="flex">
        <div class="point"></div>
        <div class="point"></div>
        <div class="point"></div>
      </div>
    </div>
  </div>

  <div class="color-picker">
    <div class="close-picker picker-menu">
      <i class="fas fa-angle-left"></i>
    </div>
    <div class="picker-menu pm" onclick="colorPick()">
      <i class="fas fa-redo-alt"></i>
    </div>

    <div class="select-colortype">
      <div class="select-colortype-in">
        <div class="colortype">HEX</div>
        <i class="fas fa-sort-down" aria-hidden="true"></i>
      </div>
      <div class="colortype-slidedown">
        <span class="colortype-hex">HEX</span>
        <span class="colortype-rgb">RGB</span>
      </div>
    </div>

    <div class="color-board">
      <div class="flex colorpick-row">
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
      </div>
      <div class="flex colorpick-row">
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
      </div>
      <div class="flex colorpick-row">
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
      </div>
      <div class="flex colorpick-row">
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
        <div class="color-tab">
          <span class="middle open-btn">Open</span>
        </div>
      </div>
    </div>
  </div>

  <div class="transfer-bar">
    <div class="header">
      Transfer Code
      <i class="fas fa-times close"></i>
    </div>
    <div class="selection">
      <div class="select st1">Hex to RGB
      </div>
      <div class="select st2">RGB to Hex
      </div>
      <div class="select-line"></div>
    </div>
    <div class="transfer-box">
      <div class="box bx1">
        <label><h3>Hexadecimal</h3>
        <input type="text" class="colorcode clcode1" placeholder="Enter code ( #000000 )" maxlength="7"></label>
        <div class="transfer-btn transfer-btn1">
          <div class="moveup">
            Transfer Code
            <i class="fas fa-arrow-alt-circle-down"></i>
          </div>
        </div>
        <h3>RGB</h3>
        <div class="hint--top" style="width: 100%" aria-label="Copy"><input type="text" class="colorcode clcode2 disabled"></div>
      </div>
      <div class="box bx2">
        <label>
        <h3>RGB</h3>
        <input type="text" class="colorcode clcode3" placeholder="Enter code ( rgb(0,0,0) )" maxlength="16"></label>
        <div class="transfer-btn transfer-btn2">
          <div class="moveup">
            Transfer Code
            <i class="fas fa-arrow-alt-circle-down"></i>
          </div>
        </div>
        <h3>Hexadecimal</h3>
        <div class="hint--top" style="width: 100%" aria-label="Copy"><input type="text" class="colorcode clcode4 disabled"></div>
      </div>
    </div>
  </div>
  <div class="middle fixed">
    <input type="text" class="color" value="#3498db">
    <div class="relative">
      <div class="slide-bar in-bl">
        <input type="text" class="selected" value="Hexadecimal">
        <i class="fas fa-sort-down"></i>
      </div>
      <div class="slidedown">
        <div class="bar">Hexadecimal</div>
        <div class="bar">RGB</div>
        <div class="bar">RGBA</div>
      </div>
      <button type="button" onclick="getColor()" class="color-btn btn in-bl">
        <i class="fas fa-palette"></i>
        New Color
        <span class="ripple"></span>
      </button>
      <div class="opacity-bar">
        <div class="counter center">Opacity: 0.<span class="count">10</span></div>
        <input type="range" class="opacity" name="" min="1" max="10" value="10">
      </div>
      <div style="width: 100%" class="hint--top" aria-label="Copy">
      <button type="button" class="copy btn">
        <i class="fas fa-copy"></i>
        Copy Color
        <span class="ripple"></span>
      </button>
    </div>
    </div>
  </div>
  <button type="button" class="save-btn">
    <i class="far fa-save"></i>
    Save Color
  </button>
  <div class="save-bar">
    <div class="header slideup">
      Save Code
      <i class="fas fa-window-minimize minimize"></i>
    </div>
    <div class="save-box">
      <div style="font-size: 13px;margin:3px 0" class="messenger center">
        There is no saved color code yet!
      </div>
    </div>
  </div>

  <div class="alert">
    <i class="fas fa-bell"></i>
    Color has copied
  </div>

  <div class="context-menu">
    <div class="ctx-tab ctx-copy">
      <i class="far fa-copy"></i>
      Copy Code
      <span class="keycode">Shift+S</span>
    </div>
    <div class="ctx-line"></div>
    <div class="ctx-tab ctx-transform">
      <i class="fas fa-random"></i>
      Transform Code
      <span class="keycode">Shift+T</span>
    </div>
    <div class="ctx-line"></div>
    <div class="ctx-tab ctx-save">
      <i class="far fa-save"></i>
      Save Code
      <span class="keycode">Shift+C</span>
    </div>
    <div class="ctx-line"></div>
    <div class="ctx-tab" onclick="location.reload()">
      <i class="fas fa-redo"></i>
      Refresh Page
      <span class="keycode">F5</span>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script type="text/javascript">
    $(".header").mousedown(function(){
      $(".transfer-bar").draggable({"cancel": ""});
        $(".transfer-bar").draggable({"containment": "body"});
    });
    $(".header").mouseout(function(){
      $(".transfer-bar").draggable({"cancel": ".transfer-bar"});
    });
  </script>
  <script type="text/javascript">
    $(".slideback").contextmenu(function(ev){
      ev.preventDefault();
      var x = ev.clientX;
      var y = ev.clientY;
      $(".context-menu").css("left",x);
      $(".context-menu").css("top",y);
      $(".context-menu").slideDown("fast");
    });
    $(".ctx-tab").click(function(){
      $(this).parent().fadeOut("fast");
    })
    $(".ctx-copy").click(function(){
      $(".color").select();
      document.execCommand("copy");
      cpyalert();
    });
    $(".ctx-transform").click(function(){
      $(".color").select();
      $(".transfer-bar").fadeToggle("fast");
    });
    $(".ctx-save").click(function(){
      $(".save-box").css("top","0");
      $(".save-bar").toggleClass("save-bar-height");
    });
  </script>
  <script type="text/javascript">
  $(".menu-btn").click(function(){
    $(".color-picker").css("opacity","1");
    $(".color-picker").css("visibility","visible");
    setTimeout(function(){
      $(".picker-menu").css("right","10px");
      $(".pm").css("right","47px");
      $(".select-colortype").css("left","10px");
    },500);
  });
  $(".select-colortype-in").click(function(){
    $(".colortype-slidedown").slideToggle("fast");
  });
  $(".colortype-slidedown span").click(function(){
    $(".colortype-slidedown").slideUp("fast");
    $(".colortype").text($(this).text());
  })
  $(".color-tab").click(function(){
    $(".color-picker").css("opacity","0");
    $(".color-picker").css("visibility","hidden");
    if($(".colortype").text() == "HEX"){
      $(".color").val($(this).attr("data-hexcolor"));
      $("body").css("background",$(this).attr("data-hexcolor"));
    }else if($(".colortype").text() == "RGB"){
      var thisbg = $(this).css("background");
      $(".color").val(thisbg.substring(0,thisbg.length-55));
      $("body").css("background",thisbg.substring(0,thisbg.length-55));
    }
  });
  $(".close-picker").click(function(){
    $(this).css("right","-30px");
    $(".pm").css("right","-30px");
    $(".select-colortype").css("left","-100px");
    $(".color-picker").css("opacity","0");
    $(".color-picker").css("visibility","hidden");
  });
  var savenum = 1;
  $(".save-btn").click(function(){
    $(".messenger").hide();
    $(".save-box").css("top","0");
    $(".save-bar").toggleClass("save-bar-height");
    var svbar = $("<div class='sv-bar'></div>");
    var precolor = $("<div class='pre-color'></div>").click(function(){
      $(".color").val($(this).next().val());
      $("body").css("background",$(this).next().val());
    });
    var svcolor = $("<input class='sv-color' value=''>");
    var svcopy = $("<i title='Copy' class='far fa-copy sv-copy'></i>").click(function(){
      $("."+$(this).attr("data-sv")).select();
      document.execCommand("copy");
      cpyalert();
    });
    var del = $("<i title='Delete' class='far fa-trash-alt del'></i>").click(function(){
      $(this).parent().fadeOut("fast");
    });
    svcolor.addClass("sv"+savenum);
    svcopy.attr("data-sv","sv"+savenum);
    svcolor.val($(".color").val());
    precolor.css("background",$(".color").val());
    $(".save-box").append(svbar);
    svbar.append(precolor,svcolor,svcopy,del);
    savenum++;
  });
  $(".slide-bar").click(function(){
    $(".slidedown").slideToggle("fast");
  });
  $(".bar").click(function(){
    $(".selected").val($(this).text());
    $(".slidedown").slideToggle("fast");
    if($(".selected").val() == "RGBA"){
      $(".opacity-bar").fadeIn();
    }else {
      $(".opacity-bar").hide();
    }
  });
  $(".opacity").on("input",function(){
    $(".count").text($(this).val());
  });
  $(".color").keyup(function(){
    $("body").css("background",$(this).val());
  });
  $(".btn").mousemove(function(){
    var x = event.clientX - $(this).offset().left;
    var y = event.clientY - $(this).offset().top;
    $(".btn span").css("left",x);
    $(".btn span").css("top",y);
  });
  $(".minimize").click(function(){
    $(".save-box").css("top","0");
    $(".save-bar").toggleClass("save-bar-height");
  });
  $(".del").click(function(){
    $(this).parent().fadeOut("fast");
  });
  $(".copy").click(function(){
    $(".color").select();
    document.execCommand("Copy");
    cpyalert();
  });
  $(".slideback").click(function(){
    $(".slidedown").slideUp("fast");
    $(".context-menu").slideUp("fast");
  });
  $(".transfer-text").click(function(){
    $(".transfer-bar").fadeToggle("fast");
  });
  $(".close").click(function(){
    $(".transfer-bar").fadeOut("fast");
  });
  $(".st1").click(function(){
    $(".select-line").css("left","0");
    $(".transfer-box").css("margin-left","0");
  });
  $(".st2").click(function(){
    $(".select-line").css("left","50%");
    $(".transfer-box").css("margin-left","-350px");
  });
  $(".transfer-btn1").click(function(){
    $(".clcode2").val("");
    var value = $(".clcode1").val();
    if(value == ""){
      incorrect($(".clcode1"));
    }else {
      if(value.includes("#")){
        $(".clcode2").val(hextorgb(value));
        correct($(".clcode1"));
      }else {
        incorrect($(".clcode1"));
      }
    }
  });
  $(".transfer-btn2").click(function(){
    $(".clcode4").val("");
    var value = $(".clcode3").val();
    if(value == ""){
      incorrect($(".clcode3"));
    }else {
      if(value.includes("rgb") && value.includes("(") && value.includes(")")){
        correct($(".clcode3"));
        $(".clcode4").val(rgbtohex(value));
      }else {
        incorrect($(".clcode3"));
      }
    }
  });
  $(".disabled").click(function(){
    $(this).select();
    document.execCommand("Copy");
  });
  $(document).keyup(function(key){
    if(key.keyCode == 83){
      $(".color").select();
      document.execCommand("copy");
      cpyalert();
    }
    if(key.keyCode == 84){
      $(".transfer-bar").fadeToggle("fast");
    }
    if(key.keyCode == 67){
      $(".save-box").css("top","0");
      $(".save-bar").toggleClass("save-bar-height");
    }
  });
  </script>
  <script type="text/javascript">
  function cpyalert(){
    var alert = "<div class='alert'><i class='fas fa-bell'></i>A color has been copied</div>";
    $("body").append(alert);
    $(".alert").css("animation","alertup 3s");
  }
  function correct(a){
    a.attr("placeholder","Enter code");
    a.css("border-color","");
  }
  function incorrect(a){
    a.attr("placeholder","Incorrect code");
    a.css("border-color","red");
  }
  function hextorgb(z){
    var c,d,e;
    c = z.slice(1,3);
    d = z.slice(3,5);
    e = z.slice(5);
    return "rgb("+parseInt(c,16)+","+parseInt(d,16)+","+parseInt(e,16)+")";
  }
  function rgbtohex(z){
    var r,g,b,rgb;
    rgb = z.substring(4,$(".clcode3").val().length-1);
    rgb = rgb.split(",");
    r = parseInt(rgb[0]);
    g = parseInt(rgb[1]);
    b = parseInt(rgb[2]);
    return "#"+toHex(r)+toHex(g)+toHex(b);
  }
  function toHex(z){
    var hex = z.toString(16);
    if(hex < 16) {
      hex = "0"+hex;
    }
    return hex;
  }
  function colorPick(){
    var hex = "0123456789abcdef";
    var hexcolor = "";
    for(var a=0;a<20;a++){
      hexcolor = "";
      for(var i=0;i<6;i++){
        hexcolor += hex[Math.floor(Math.random(0)*16)];
      }
      hexcolor = "#"+ hexcolor;
      $(".color-tab").eq(a).css("background",hexcolor);
      $(".color-tab").eq(a).attr("data-hexcolor",hexcolor);
    }

  }
  function getColor(){
    $(".copy").attr("aria-label","Copy");
    if($(".selected").val() == "Hexadecimal"){
      var hex = "0123456789abcdef";
      var color = "";
      for(var i=0;i<6;i++){
        color += hex[Math.floor(Math.random(0)*16)];
      }
      color = "#"+ color;
      $(".color").val(color);
      $("body").css("background",color);
    }
    if($(".selected").val() == "RGB"){
      var rgbcolor = "";
      for(var i=0;i<3;i++){
        var color = Math.floor(Math.random()*255);
        rgbcolor += color+",";
      }
      rgbcolor = rgbcolor.substring(0,rgbcolor.length-1);
      rgbcolor = "rgb("+rgbcolor+")";
      $(".color").val(rgbcolor);
      $("body").css("background",rgbcolor);
    }
    if($(".selected").val() == "RGBA"){
      var rgbcolor = "";
      for(var i=0;i<3;i++){
        var color = Math.floor(Math.random()*255);
        rgbcolor += color+",";
      }
      var value = $(".opacity").val()/10;
      rgbcolor = "rgba("+rgbcolor+value+")";
      $(".color").val(rgbcolor);
      $("body").css("background",rgbcolor);
    }
  }
  </script>
  </body>
</html>
